constexpr unsigned adapt_threshold=4;
