constexpr unsigned adapt_threshold=2;
