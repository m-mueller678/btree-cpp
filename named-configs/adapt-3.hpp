constexpr unsigned adapt_threshold=3;
